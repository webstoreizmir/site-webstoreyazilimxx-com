<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>Ä°zmir WebStore | AI Site Builder</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --input-bg: #334155;
            --text-main: #f1f5f9;
            --text-muted: #94a3b8;
            --primary: #38bdf8;
            --primary-hover: #0ea5e9;
            --border: #475569;
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-main); 
            display: flex; 
            justify-content: center; 
            padding: 40px 20px; 
            min-height: 100vh; 
            margin: 0; 
            line-height: 1.6;
        }

        .container { 
            background-color: var(--card-bg); 
            padding: 50px; 
            border-radius: 24px; 
            width: 100%; 
            max-width: 900px; 
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); 
            border: 1px solid var(--border); 
        }
        
        h1 { text-align: center; color: var(--primary); margin: 0 0 10px 0; font-size: 36px; font-weight: 800; letter-spacing: -1px; }
        p.subtitle { text-align: center; color: var(--text-muted); margin-bottom: 50px; font-size: 18px; }
        
        .section-box {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 30px;
        }

        .section-header { 
            color: var(--primary); 
            margin: 0 0 20px 0; 
            font-weight: 700; 
            font-size: 18px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            border-bottom: 1px solid var(--border);
            padding-bottom: 10px;
        }

        .form-row { display: flex; gap: 20px; flex-wrap: wrap; }
        .form-group { margin-bottom: 20px; flex: 1; min-width: 250px; }
        
        label { display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-muted); font-size: 13px; text-transform: uppercase; }
        
        input, textarea, select { 
            width: 100%; 
            padding: 16px; 
            background: var(--bg-color); 
            border: 1px solid var(--border); 
            color: #fff; 
            border-radius: 12px; 
            box-sizing: border-box; 
            transition: all 0.3s ease; 
            font-size: 15px; 
            font-family: 'Inter', sans-serif;
        }
        
        input:focus, textarea:focus, select:focus { 
            outline: none; 
            border-color: var(--primary); 
            box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.1); 
            background: #162032;
        }
        
        textarea { resize: vertical; min-height: 100px; }

        button { 
            width: 100%; 
            padding: 24px; 
            background: linear-gradient(135deg, var(--primary), #2563eb); 
            border: none; 
            color: white; 
            font-size: 20px; 
            font-weight: 800; 
            border-radius: 16px; 
            cursor: pointer; 
            transition: 0.3s; 
            margin-top: 20px; 
            box-shadow: 0 10px 15px -3px rgba(14, 165, 233, 0.3); 
            letter-spacing: 0.5px;
        }
        
        button:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 20px 25px -5px rgba(14, 165, 233, 0.5); 
            filter: brightness(1.1);
        }
        
        button:disabled { 
            background: #475569; 
            cursor: wait; 
            transform: none; 
            box-shadow: none; 
            opacity: 0.7;
        }

        .helper-text { font-size: 12px; color: #64748b; margin-top: 6px; font-style: italic; }

        .status { margin-top: 30px; padding: 25px; border-radius: 16px; text-align: center; font-size: 16px; display: none; line-height: 1.6; animation: fadeIn 0.5s; }
        .status.error { background-color: rgba(69, 10, 10, 0.5); color: #f87171; border: 1px solid #b91c1c; display:block; }
        
        a { color: #fff; text-decoration: underline; text-underline-offset: 4px; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸš€ Yapay Zeka Site SihirbazÄ±</h1>
    <p class="subtitle">DetaylÄ± bilgileri girin, arkanÄ±za yaslanÄ±n.</p>
    
    <form id="siteForm">
        
        <div class="section-box" style="border-color: var(--primary);">
            <div class="section-header">ğŸ“§ Bildirim Bilgileri</div>
            <div class="form-group">
                <label>SonuÃ§ E-postasÄ± (Siteniz hazÄ±r olduÄŸunda buraya bilgi gelecek)</label>
                <input type="email" id="notificationEmail" placeholder="sizin.mailiniz@ornek.com" required style="border-color: var(--primary);">
            </div>
        </div>

        <div class="section-box">
            <div class="section-header">ğŸ¢ Kurumsal Kimlik</div>
            <div class="form-row">
                <div class="form-group">
                    <label>Ä°ÅŸletme AdÄ±</label>
                    <input type="text" id="businessName" placeholder="Ã–rn: Vega MimarlÄ±k" required>
                </div>
                <div class="form-group">
                    <label>SektÃ¶r</label>
                    <input type="text" id="sector" placeholder="Ã–rn: Ä°Ã§ MimarlÄ±k / DiÅŸ HekimliÄŸi" required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Domain (Alan AdÄ±)</label>
                    <input type="text" id="customDomain" placeholder="Ã–rn: vegamimarlik.com" required>
                    <div class="helper-text">http/https veya www yazmayÄ±n. Sadece alan adÄ±.</div>
                </div>
                <div class="form-group">
                    <label>Slogan / Motto</label>
                    <input type="text" id="slogan" placeholder="Ã–rn: Hayallerinizi Ä°nÅŸa Ediyoruz">
                </div>
            </div>
            <div class="form-group">
                <label>Kurumsal TanÄ±tÄ±m (Yapay Zeka Ä°Ã§in DetaylÄ± Bilgi)</label>
                <textarea id="description" rows="5" placeholder="Ä°ÅŸletmenizi detaylÄ± anlatÄ±n." required></textarea>
            </div>
        </div>

        <div class="section-box">
            <div class="section-header">ğŸ“¸ Logo & GÃ¶rseller (Opsiyonel)</div>
            <p style="font-size:13px; color:#94a3b8; margin-bottom:15px;">BoÅŸ bÄ±rakÄ±rsanÄ±z yapay zeka sizin iÃ§in seÃ§ecektir.</p>
            
            <div class="form-group">
                <label>Logo URL</label>
                <input type="url" id="logoUrl" placeholder="https://ornek.com/logo.png">
            </div>
            <div class="form-group">
                <label>Kapak (Hero) GÃ¶rseli URL</label>
                <input type="url" id="heroImageUrl" placeholder="https://ornek.com/banner.jpg">
            </div>
        </div>

        <div class="section-box">
            <div class="section-header">ğŸ“ Hizmetler & Ä°Ã§erik</div>
            <div class="form-group">
                <label>Hizmetler / ÃœrÃ¼nler (VirgÃ¼lle ayÄ±rÄ±n)</label>
                <textarea id="servicesList" rows="3" placeholder="Ã–rn: Villa TasarÄ±mÄ±, Ofis Yenileme" required></textarea>
            </div>
            <div class="form-group">
                <label>Neden Bizi SeÃ§meliler?</label>
                <textarea id="whyUs" rows="3" placeholder="Ã–rn: 1. Deneyim, 2. Kalite"></textarea>
            </div>
            <div class="form-group">
                <label>MÃ¼ÅŸteri YorumlarÄ±</label>
                <textarea id="testimonials" rows="3" placeholder="Ã–rn: 'Harika iÅŸ Ã§Ä±kardÄ±lar.' - Ahmet Y."></textarea>
            </div>
        </div>

        <div class="section-box">
            <div class="section-header">ğŸŒ Ä°letiÅŸim</div>
            <div class="form-row">
                <div class="form-group">
                    <label>Telefon</label>
                    <input type="text" id="phone" placeholder="+90 555 ...">
                </div>
                <div class="form-group">
                    <label>WhatsApp NumarasÄ±</label>
                    <input type="text" id="whatsapp" placeholder="90555...">
                </div>
            </div>
            <div class="form-group">
                <label>E-posta</label>
                <input type="text" id="publicEmail" placeholder="info@...">
            </div>
            <div class="form-group">
                <label>Adres</label>
                <textarea id="address" rows="2" placeholder="Ofis adresi..."></textarea>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Instagram Linki</label>
                    <input type="text" id="instagram" placeholder="https://instagram.com/...">
                </div>
                <div class="form-group">
                    <label>LinkedIn / DiÄŸer Link</label>
                    <input type="text" id="linkedin" placeholder="https://linkedin.com/...">
                </div>
            </div>
        </div>

        <div class="section-box">
            <div class="section-header">ğŸ¨ TasarÄ±m</div>
            <div class="form-row">
                <div class="form-group">
                    <label>Hedef Kitle</label>
                    <input type="text" id="targetAudience" placeholder="Ã–rn: Kurumsal Firmalar">
                </div>
                <div class="form-group">
                    <label>TasarÄ±m TarzÄ±</label>
                    <select id="designStyle">
                        <option value="Kurumsal ve Ciddi">Kurumsal ve Ciddi</option>
                        <option value="Minimalist ve Modern">Minimalist ve Modern</option>
                        <option value="LÃ¼ks ve Premium">LÃ¼ks ve Premium</option>
                        <option value="CanlÄ± ve YaratÄ±cÄ±">CanlÄ± ve YaratÄ±cÄ±</option>
                        <option value="Teknolojik ve Dark Mode">Teknolojik ve Dark Mode</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label>Renk Tercihi</label>
                <input type="text" id="colorPreference" placeholder="Ã–rn: Mavi ve Beyaz">
            </div>
        </div>

        <button type="submit" id="btnSubmit">âœ¨ SÄ°TEYÄ° OLUÅTUR</button>
    </form>
    <div id="statusMessage" class="status"></div>
</div>

<script>
    // ğŸ‘‡ WEBHOOK URL - DoÄŸru olduÄŸundan emin olun
    const WEBHOOK_URL = "https://n8n.izmirwebstore.com/webhook/crate-site"; 

    document.getElementById('siteForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const btn = document.getElementById('btnSubmit');
        const status = document.getElementById('statusMessage');
        const originalText = btn.innerText;
        
        // Buton durumu (Loading)
        btn.innerHTML = "âš™ï¸ Ä°ÅŸleniyor... (LÃ¼tfen Bekleyin)";
        btn.disabled = true;
        status.style.display = 'none';

        try {
            // Helper function
            const getVal = (id) => document.getElementById(id) ? document.getElementById(id).value : '';

            const data = {
                email: getVal('notificationEmail'),
                businessName: getVal('businessName'),
                slogan: getVal('slogan'),
                customDomain: getVal('customDomain').replace(/^https?:\/\//, '').replace(/^www\./, '').replace(/\/$/, ''),
                sector: getVal('sector'),
                description: getVal('description'),
                logoUrl: getVal('logoUrl'),
                heroImageUrl: getVal('heroImageUrl'),
                servicesList: getVal('servicesList'),
                whyUs: getVal('whyUs'),
                testimonials: getVal('testimonials'),
                phone: getVal('phone'),
                whatsapp: getVal('whatsapp'),
                publicEmail: getVal('publicEmail'),
                address: getVal('address'),
                instagram: getVal('instagram'),
                linkedin: getVal('linkedin'),
                targetAudience: getVal('targetAudience'),
                designStyle: getVal('designStyle'),
                colorPreference: getVal('colorPreference')
            };
            
            console.log("GÃ¶nderilen Veri:", data); // Konsola yazdÄ±r (Hata ayÄ±klama iÃ§in)

            const response = await fetch(WEBHOOK_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            });

            if (response.ok) {
                btn.style.display = 'none'; 

                status.innerHTML = `
                    <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid #10b981; padding: 25px; border-radius: 16px; margin-bottom: 25px; text-align: center;">
                        <h3 style="margin:0 0 10px 0; color:#10b981; font-size:24px;">âœ… Tebrikler, SÃ¼reÃ§ BaÅŸladÄ±!</h3>
                        <p style="color:#cbd5e1; font-size:16px; margin:0;">
                            Yapay zeka sitenizi hazÄ±rlamaya baÅŸladÄ±. LÃ¼tfen <strong>E-Posta kutunuzu</strong> (ve Spam klasÃ¶rÃ¼nÃ¼) kontrol edin.
                        </p>
                    </div>

                    <div style="background: #1e293b; border: 1px solid #334155; padding: 30px; border-radius: 20px; text-align: left; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);">
                        <h4 style="color: #38bdf8; margin: 0 0 15px 0; font-size: 18px; border-bottom: 1px solid #334155; padding-bottom: 10px;">
                            ğŸŒ Domain & DNS TalimatlarÄ±
                        </h4>
                        
                        <p style="color:#f1f5f9; font-size:15px; margin-bottom:15px;">
                            Sitenizin <u>${data.customDomain}</u> adresinde yayÄ±na girmesi iÃ§in ÅŸu adÄ±mlarÄ± izleyin:
                        </p>
                        
                        <ul style="color: #cbd5e1; font-size: 14px; line-height: 1.8; padding-left: 20px;">
                            <li>EÄŸer henÃ¼z <strong>${data.customDomain}</strong> alan adÄ±nÄ± almadÄ±ysanÄ±z, Godaddy, Ä°simtescil veya Google Domains gibi bir firmadan satÄ±n alÄ±n.</li>
                            <li>E-postanÄ±za sitenizin sunucu IP adreslerini (A KaydÄ±) veya CNAME bilgilerini gÃ¶ndereceÄŸiz.</li>
                            <li>Domain panelinize girip, gelen maildeki bilgileri <strong>DNS YÃ¶netimi</strong> bÃ¶lÃ¼mÃ¼ne eklemeniz gerekmektedir.</li>
                        </ul>

                        <div style="background: rgba(56, 189, 248, 0.1); padding: 15px; border-radius: 10px; margin-top: 20px; font-size: 14px; color: #7dd3fc; border-left: 3px solid #38bdf8;">
                            â„¹ï¸ DetaylÄ± DNS yÃ¶nlendirme kÄ±lavuzu e-posta ile gÃ¶nderilmiÅŸtir. AdÄ±mlarÄ± takip ederek sitenizi aktif edebilirsiniz.
                        </div>
                    </div>
                `;
                status.className = "status"; 
                status.style.display = 'block';
                status.style.backgroundColor = 'transparent'; 
                status.style.border = 'none';
                
                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });

            } else {
                throw new Error("Sunucu hatasÄ±: " + response.status + " " + response.statusText);
            }
        } catch (error) {
            console.error("HATA:", error);
            status.innerHTML = `
                <div class="status error">
                    <h3 style="margin:0">âŒ Bir Sorun OluÅŸtu</h3>
                    <p>Sunucuya baÄŸlanÄ±lamadÄ±. n8n Webhook URL'sini ve internet baÄŸlantÄ±nÄ±zÄ± kontrol edin.<br><br>Hata DetayÄ±: ${error.message}</p>
                </div>
            `;
            status.style.display = 'block';
            btn.innerHTML = originalText;
            btn.disabled = false;
        }
    });
</script>

</body>
</html>
